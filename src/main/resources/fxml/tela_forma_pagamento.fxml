<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.Button?>

<AnchorPane xmlns="http://javafx.com/javafx/24.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="br.com.wtech.totem.controller.TelaFormaPagamentoController"
            style="-fx-background-color: #001727;"
            fx:id="root"
            stylesheets="@/css/telaBase.css">

    <!-- Logo no canto superior direito -->
    <ImageView fx:id="imgLogo"
               pickOnBounds="true"
               onMouseClicked="#handleLogoClick"
               AnchorPane.topAnchor="10"
               AnchorPane.rightAnchor="10"
               fitHeight="40"
               preserveRatio="true">
        <image>
            <Image url="@/imagens/logo_w.png"/>
        </image>
    </ImageView>

    <!-- Painel branco central -->
    <VBox fx:id="painelPrincipal"
          styleClass="painel-branco"
          AnchorPane.topAnchor="100"
          AnchorPane.bottomAnchor="100"
          AnchorPane.leftAnchor="50"
          AnchorPane.rightAnchor="50"
          spacing="0">

        <!-- Cabeçalho com imagem, separador e título -->
        <VBox spacing="0">

            <HBox alignment="CENTER_LEFT" spacing="10" styleClass="cabecalho-box">

                <!-- Imagem no canto esquerdo -->
                <ImageView fx:id="imgDinheiro" styleClass="cabecalho-imagem" preserveRatio="true">
                    <image>
                        <Image url="@/imagens/dinheiro.png"/>
                    </image>
                </ImageView>

                <!-- Separador vertical -->
                <Separator orientation="VERTICAL"
                           styleClass="cabecalho-separador-vertical"
                           VBox.vgrow="ALWAYS"/>

                <!-- Região expansível para empurrar o texto -->
                <Region HBox.hgrow="ALWAYS"/>

                <!-- Título centralizado -->
                <Label text="R$ 00,00" styleClass="cabecalho-titulo"/>

                <!-- Região expansível para equilibrar o lado direito -->
                <Region HBox.hgrow="ALWAYS"/>

            </HBox>

            <!-- Linha inferior -->
            <VBox style="-fx-padding: 10 0 0 0;">
                <Separator orientation="HORIZONTAL" styleClass="cabecalho-separador-horizontal"/>
            </VBox>

        </VBox>

        <!-- Texto e botões centrais -->
        <VBox alignment="CENTER" spacing="20" VBox.vgrow="ALWAYS">
            <!-- Label de pergunta -->
            <Label text="Escolha a forma de pagamento"
                   styleClass="label-destaque"/>

            <!-- HBox com os três botões de opção -->
            <HBox alignment="CENTER" spacing="40" styleClass="botoes-centro-box">
                <Button fx:id="btnDebito"
                        onAction="#handleDebito"
                        styleClass="botao-opcao">
                    <graphic>
                        <VBox alignment="CENTER" spacing="8">
                            <ImageView fitWidth="48" fitHeight="48" preserveRatio="true">
                                <image>
                                    <Image url="@/imagens/cartao.png"/>
                                </image>
                            </ImageView>
                            <Label text="Débito"/>
                        </VBox>
                    </graphic>
                </Button>

                <Button fx:id="btnCredito"
                        onAction="#handleCredito"
                        styleClass="botao-opcao">
                    <graphic>
                        <VBox alignment="CENTER" spacing="8">
                            <ImageView fitWidth="48" fitHeight="48" preserveRatio="true">
                                <image>
                                    <Image url="@/imagens/cartao.png"/>
                                </image>
                            </ImageView>
                            <Label text="Crédito"/>
                        </VBox>
                    </graphic>
                </Button>

                <Button fx:id="btnPix"
                        onAction="#handlePix"
                        styleClass="botao-opcao">
                    <graphic>
                        <VBox alignment="CENTER" spacing="8">
                            <ImageView fitWidth="48" fitHeight="48" preserveRatio="true">
                                <image>
                                    <Image url="@/imagens/pix.png"/>
                                </image>
                            </ImageView>
                            <Label text="Pix"/>
                        </VBox>
                    </graphic>
                </Button>
            </HBox>
        </VBox>

        <!-- Rodapé: separar cancelar e bloco de permanência -->
        <AnchorPane VBox.vgrow="NEVER" style="-fx-padding: 0;">

            <!-- Botão Cancelar, sempre no canto inferior esquerdo -->
            <Button fx:id="btnCancelar"
                    onAction="#handleCancelar"
                    styleClass="botao-cancelar"
                    AnchorPane.leftAnchor="0"
                    AnchorPane.bottomAnchor="0">
                <graphic>
                    <HBox alignment="CENTER" spacing="8">
                        <ImageView fitHeight="48" fitWidth="48" preserveRatio="true">
                            <image><Image url="@/imagens/cancelar.png"/></image>
                        </ImageView>
                        <Label text="Cancelar" styleClass="botao-cancelar-texto"/>
                    </HBox>
                </graphic>
            </Button>

            <!-- Bloco de permanência, canto inferior direito -->
            <VBox fx:id="blocoPermanencia"
                  styleClass="bloco-permanencia"
                  AnchorPane.rightAnchor="0"
                  AnchorPane.bottomAnchor="0"
                  alignment="CENTER"
                  spacing="4">
                <padding>
                    <Insets top="10" right="10" bottom="10" left="10"/>
                </padding>
                <Label text="Permanência:" styleClass="permanencia-titulo"/>
                <Label fx:id="lblTempo" text="00:00" styleClass="permanencia-tempo"/>
            </VBox>
        </AnchorPane>
    </VBox>
</AnchorPane>
